## AWS SQS + SNS λ¥Ό μ•μ•„λ³΄μ

## 1. κ°μ”

μ§€κΈ νμ‚¬μ—μ„λ” λΉ„λ™κΈ° λ©”μ„Έμ§• μ²λ¦¬λ¥Ό μ„ν•΄ AWS SNS + SQSλ¥Ό μ΅°ν•©ν•μ—¬ μ‚¬μ©ν•κ³  μλ‹¤.

ν•μ§€λ§ λ„μ…ν•κΈ° μ΄μ „μ— λ€ν‘μ μΈ λ©”μ„Έμ§€ λΈλ΅μ»¤μΈ kafkaλ‚ RabbitMQ λ¥Ό λ‘κ³  κ³ λ―Όμ„ ν•μ€λ‹¤.

λ„μ…μ— μμ–΄ μ—¬λ¬ λ¬Έμ κ°€ μμ—μ§€λ§..κΈ°μ μ λ¶€μ±„, λ¦¬μ†μ¤, μ‹κ°„..λ“±λ“±..κ°€μ¥ ν° λ¬Έμ μ μ€ λΉ„μ©μ΄μ—λ‹¤....π¥²

μ–΄μ°μ–΄μ°ν•μ—¬ ν•΄λ‹Ή λ‚΄μ©μ„ λ„μ…ν•μ€κ³  SNSμ™€ SQSμ— λ€ν•΄ μ•μ•„λ³΄μ



## 2. λ„μ… λ°°κ²½

κΈ°μ΅΄ μ„λΉ„μ¤μ—μ„μ λ„λ©”μΈκ°„μ μ—°λ™μ€ apiλ¥Ό ν†µν•΄ ν•μ€μΌλ©° κ·Έλ΅ μΈν•΄ κ° λ„λ©”μΈκ°„μ μμ΅΄ κ΄€κ³„κ°€ λ†’μ•„μ΅λ‹¤.

μμ΅΄ κ΄€κ³„λ¥Ό λμ–΄λ³΄κ³ μ μƒνƒκ°’μ„ μ΄μ©ν• μ²λ¦¬λΌλμ§€ (κ²°κ³Όμ μΌλ΅λ” μ‹¤ν¨ν•μ€λ‹¤. μ“Έλ• μ—†λ” λ°μ΄ν„°μ™€ κ·Έλ΅ μΈν• μ¥μ• κ°€ λΉλ²...) κΈ°νμ μμ • λ“±...

μ—¬λ¬ λ°©μ‹μΌλ΅ ν•΄κ²°ν•΄λ³΄μ ν•μ€μ§€λ§ (μ•½ 5κ°μ›”) κ·Όλ³Έμ μΌλ΅λ” ν•΄κ²°ν•μ§€ λ»ν•μ€κ³  λ©”μ„Έμ§• μ‹μ¤ν…μ„ μ•μ•„λ³΄λ‹¤ κ°μ”μ—μ„ μ„¤λ…ν• λ‚΄μ©μΌλ΅ SNS + SQSλ¥Ό μ΅°ν•©ν•μ—¬ κ° λ„λ©”μΈκ°„μ μ—°λ™μ„ μ΄λ²¤νΈλ¥Ό λ°ν–‰ν•λ” [Event Driven Architecture](https://cloud.google.com/eventarc/docs/event-driven-architectures?hl=ko)λ΅ κµ¬μ„± ν•κ² λμ—λ‹¤.



## 3. SNS

Amazon Simple Notification Service(Amazon SNS)λ” κ²μ‹μμ—μ„ κµ¬λ…μ(*μƒμ‚°μ* λ° *μ†λΉ„μ*λΌκ³ λ„ ν•¨)λ΅ λ©”μ‹μ§€λ¥Ό μ „μ†΅ν•λ” κ΄€λ¦¬ν• μ„λΉ„μ¤μ…λ‹λ‹¤. κ²μ‹μλ” λ…Όλ¦¬μ  μ•΅μ„Έμ¤ μ§€μ  λ° μ»¤λ®¤λ‹μΌ€μ΄μ… μ±„λ„μΈ *μ£Όμ *μ— λ©”μ‹μ§€λ¥Ό μ „μ†΅ν•μ—¬ κµ¬λ…μμ™€ λΉ„λ™κΈ°μ‹μΌλ΅ ν†µμ‹ ν•©λ‹λ‹¤. ν΄λΌμ΄μ–ΈνΈλ” SNS μ£Όμ λ¥Ό κµ¬λ…ν•κ³  Amazon Kinesis Data Firehose, Amazon SQS, AWS Lambda, HTTP, μ΄λ©”μΌ, λ¨λ°”μΌ ν‘Έμ‹ μ•λ¦Ό λ° λ¨λ°”μΌ λ¬Έμ λ©”μ‹μ§€(SMS)μ™€ κ°™μ΄ μ§€μ›λλ” μ—”λ“ν¬μΈνΈ μ ν•μ„ μ‚¬μ©ν•μ—¬ κ²μ‹λ λ©”μ‹μ§€λ¥Ό μμ‹ ν•  μ μμµλ‹λ‹¤.

![             κ²μ‹μκ°€ Amazon SNS μ£Όμ μ— λ©”μ‹μ§€λ¥Ό λ³΄λ‚΄κ³  κµ¬λ…μλ” λ©”μ‹μ§€λ¥Ό λ°›μµλ‹λ‹¤.         ](https://docs.aws.amazon.com/ko_kr/sns/latest/dg/images/sns-delivery-protocols.png)

- **μ• ν”λ¦¬μΌ€μ΄μ… κ°„ λ©”μ‹μ§•**

  μ• ν”λ¦¬μΌ€μ΄μ… κ°„ λ©”μ‹μ§•μ€ Amazon Kinesis Data Firehose μ „μ†΅ μ¤νΈλ¦Ό, Lambda ν•¨μ, Amazon SQS λ€κΈ°μ—΄, HTTP/S μ—”λ“ν¬μΈνΈ λ° AWS Event Fork Pipelinesμ™€ κ°™μ€ κµ¬λ…μλ¥Ό μ§€μ›ν•©λ‹λ‹¤. μμ„Έν• λ‚΄μ©μ€ [μ• ν”λ¦¬μΌ€μ΄μ… κ°„(A2A) λ©”μ‹μ§•μ— Amazon SNS μ‚¬μ©](https://docs.aws.amazon.com/ko_kr/sns/latest/dg/sns-system-to-system-messaging.html) μ„Ήμ…μ„ μ°Έμ΅°ν•μ„Έμ”.

- **μ• ν”λ¦¬μΌ€μ΄μ… λ€ κ°μΈ μ•λ¦Ό**

  μ• ν”λ¦¬μΌ€μ΄μ… λ€ κ°μΈ μ•λ¦Όμ€ λ¨λ°”μΌ μ• ν”λ¦¬μΌ€μ΄μ…, ν΄λ€ν° λ²νΈ λ° μ΄λ©”μΌ μ£Όμ†μ™€ κ°™μ€ μ‚¬μ©μ μ•λ¦Όμ„ κµ¬λ…μμ—κ² μ κ³µν•©λ‹λ‹¤. μμ„Έν• λ‚΄μ©μ€ [μ• ν”λ¦¬μΌ€μ΄μ… λ€ κ°μΈ(A2P) λ©”μ‹μ§•μ— Amazon SNS μ‚¬μ©](https://docs.aws.amazon.com/ko_kr/sns/latest/dg/sns-user-notifications.html) μ„Ήμ…μ„ μ°Έμ΅°ν•μ„Έμ”.

- **ν‘μ¤€ λ° FIFO μ£Όμ **

  FIFO μ£Όμ λ¥Ό μ‚¬μ©ν•μ—¬ μ—„κ²©ν• λ©”μ‹μ§€ μμ„λ¥Ό λ³΄μ¥ν•κ³ , λ©”μ‹μ§€ κ·Έλ£Ήμ„ μ •μν•κ³ , λ©”μ‹μ§€ μ¤‘λ³µμ„ λ°©μ§€ν•  μ μμµλ‹λ‹¤. Amazon SQS FIFO λ€κΈ°μ—΄λ§ FIFO μ£Όμ λ¥Ό κµ¬λ…ν•  μ μμµλ‹λ‹¤. μμ„Έν• λ‚΄μ©μ€ [λ©”μ‹μ§€ μμ„ μ§€μ • λ° μ¤‘λ³µ μ κ±°(FIFO μ£Όμ )](https://docs.aws.amazon.com/ko_kr/sns/latest/dg/sns-fifo-topics.html) μ„Ήμ…μ„ μ°Έμ΅°ν•μ„Έμ”.

  λ©”μ‹μ§€ μ „μ†΅ μμ„μ™€ μ μ¬μ  λ©”μ‹μ§€ μ¤‘λ³µμ΄ μ¤‘μ”ν•μ§€ μ•μ€ κ²½μ° ν‘μ¤€ μ£Όμ λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤. μ§€μ›λλ” λ¨λ“  μ „μ†΅ ν”„λ΅ν† μ½μ€ ν‘μ¤€ μ£Όμ λ¥Ό κµ¬λ…ν•  μ μμµλ‹λ‹¤.

- **λ©”μ‹μ§€ λ‚΄κµ¬μ„±**

  Amazon SNSλ” λ©”μ‹μ§€ λ‚΄κµ¬μ„±μ„ μ κ³µν•κΈ° μ„ν•΄ ν•¨κ» μ‘λ™ν•λ” λ‹¤μ–‘ν• μ „λµμ„ μ‚¬μ©ν•©λ‹λ‹¤.

  - κ²μ‹λ λ©”μ‹μ§€λ” μ§€λ¦¬μ μΌλ΅ λ¶„λ¦¬λ μ—¬λ¬ μ„λ²„ λ° λ°μ΄ν„° μ„Όν„°μ— μ €μ¥λ©λ‹λ‹¤.
  - κµ¬λ…λ μ—”λ“ν¬μΈνΈλ¥Ό μ‚¬μ©ν•  μ μ—†λ” κ²½μ° Amazon SNSλ” [μ „μ†΅ μ¬μ‹λ„ μ •μ±…](https://docs.aws.amazon.com/ko_kr/sns/latest/dg/sns-message-delivery-retries.html)μ„ μ‹¤ν–‰ν•©λ‹λ‹¤.
  - μ „μ†΅ μ¬μ‹λ„ μ •μ±…μ΄ μΆ…λ£λκΈ° μ „μ— μ „μ†΅λμ§€ μ•μ€ λ©”μ‹μ§€λ¥Ό λ³΄μ΅΄ν•κΈ° μ„ν•΄ [λ°°λ‹¬ λ»ν• νΈμ§€ λ€κΈ°μ—΄](https://docs.aws.amazon.com/ko_kr/sns/latest/dg/sns-dead-letter-queues.html)μ„ λ§λ“¤ μ μμµλ‹λ‹¤.

- **λ©”μ‹μ§€ μ•„μΉ΄μ΄λΈ λ° λ¶„μ„**

  [Kinesis Data Firehose μ „μ†΅ μ¤νΈλ¦Όμ—μ„ SNS μ£Όμ λ¥Ό κµ¬λ…](https://docs.aws.amazon.com/ko_kr/sns/latest/dg/sns-firehose-as-subscriber.html)ν•λ©΄ Amazon Simple Storage Service(Amazon S3) λ²„ν‚·, Amazon Redshift ν…μ΄λΈ” λ“±κ³Ό κ°™μ€ μ•„μΉ΄μ΄λΈ λ° λ¶„μ„ μ—”λ“ν¬μΈνΈμ— μ•λ¦Όμ„ λ³΄λ‚Ό μ μμµλ‹λ‹¤.

- **λ©”μ‹μ§€ μ†μ„±**

  λ©”μ‹μ§€ μ†μ„±μ„ μ‚¬μ©ν•μ—¬ λ©”μ‹μ§€μ— λ€ν• μ„μ λ©”νƒ€λ°μ΄ν„°λ¥Ό μ κ³µν•  μ μμµλ‹λ‹¤. [Amazon SNS λ©”μ‹μ§€ μ†μ„±](https://docs.aws.amazon.com/ko_kr/sns/latest/dg/sns-message-attributes.html).

- **λ©”μ‹μ§€ ν•„ν„°λ§**

  κΈ°λ³Έμ μΌλ΅ κ° κµ¬λ…μλ” μ£Όμ μ— κ²μ‹λ λ¨λ“  λ©”μ‹μ§€λ¥Ό μμ‹ ν•©λ‹λ‹¤. λ©”μ‹μ§€μ ν•μ„ μ„ΈνΈλ§ μμ‹ ν•λ ¤λ©΄ κµ¬λ…μλ” μ£Όμ  κµ¬λ…μ— ν•„ν„° μ •μ±…μ„ ν• λ‹Ήν•΄μ•Ό ν•©λ‹λ‹¤. κµ¬λ…μλ” ν•„ν„° μ •μ±… λ²”μ„λ¥Ό μ •μν•μ—¬ νμ΄λ΅λ“ κΈ°λ° λλ” μ†μ„± κΈ°λ° ν•„ν„°λ§μ„ ν™μ„±ν™”ν•  μλ„ μμµλ‹λ‹¤. ν•„ν„° μ •μ±… λ²”μ„μ κΈ°λ³Έκ°’μ€ `MessageAttributes` μ…λ‹λ‹¤. μμ‹  λ©”μ‹μ§€ μ†μ„±μ΄ ν•„ν„° μ •μ±… μ†μ„±κ³Ό μΌμΉν•λ©΄ λ©”μ‹μ§€κ°€ κµ¬λ…λ μ—”λ“ν¬μΈνΈλ΅ μ „μ†΅λ©λ‹λ‹¤. κ·Έλ ‡μ§€ μ•μΌλ©΄ λ©”μ‹μ§€κ°€ ν•„ν„°λ§λμ–΄ μ μ™Έλ©λ‹λ‹¤. ν•„ν„° μ •μ±… λ²”μ„κ°€ `MessageBody` μΈ κ²½μ° ν•„ν„° μ •μ±… μ†μ„±μ΄ νμ΄λ΅λ“μ™€ μΌμΉν•©λ‹λ‹¤. μμ„Έν• λ‚΄μ©μ€ [Amazon SNS λ©”μ‹μ§€ ν•„ν„°λ§](https://docs.aws.amazon.com/ko_kr/sns/latest/dg/sns-message-filtering.html) μ„Ήμ…μ„ μ°Έμ΅°ν•μ„Έμ”.

- **λ©”μ‹μ§€ λ³΄μ•**

  μ„λ²„ μΈ΅ μ•”νΈν™”λ” AWS KMSμ—μ„ μ κ³µν•λ” μ•”νΈν™” ν‚¤λ¥Ό μ‚¬μ©ν•μ—¬ Amazon SNS μ£Όμ μ— μ €μ¥λ λ©”μ‹μ§€ λ‚΄μ©μ„ λ³΄νΈν•©λ‹λ‹¤. μμ„Έν• λ‚΄μ©μ€ [μ €μ¥ μ‹ μ•”νΈν™”](https://docs.aws.amazon.com/ko_kr/sns/latest/dg/sns-server-side-encryption.html) μ„Ήμ…μ„ μ°Έμ΅°ν•μ„Έμ”.

  Amazon SNSμ™€ Virtual Private Cloud(VPC) κ°„μ— ν”„λΌμ΄λΉ— μ—°κ²°μ„ μ„¤μ •ν•  μλ„ μμµλ‹λ‹¤. μμ„Έν• μ •λ³΄λ” [μΈν„°λ„¤νΈμ›ν¬ νΈλν”½ κ°μΈ μ •λ³΄ λ³΄νΈ](https://docs.aws.amazon.com/ko_kr/sns/latest/dg/sns-internetwork-traffic-privacy.html)μ—μ„ ν™•μΈν•μ„Έμ”.

  

μ¶μ² : https://docs.aws.amazon.com/ko_kr/sns/latest/dg/welcome.html

(κ³µμ‹ λ¬Έμ„κ°€ λ„λ¬΄ μ λμ–΄μμ–΄ κ·Έλ€λ΅ μ½λ”κ²ƒμ΄ μΆ‹μ•„λ³΄μ—¬....λ¨Έμ“±...π…)



## 4. SQS

Amazon Simple Queue Service (Amazon SQS) λ” λ‚΄κµ¬λ ¥ μκ³  κ°€μ©μ„±μ΄ λ›°μ–΄λ‚ λ³΄μ• νΈμ¤ν… λ€κΈ°μ—΄μ„ μ κ³µν•λ©° μ΄λ¥Ό ν†µν•΄ λ¶„μ‚° μ†ν”„νΈμ›¨μ–΄ μ‹μ¤ν…κ³Ό κµ¬μ„± μ”μ†λ¥Ό ν†µν•© λ° λ¶„λ¦¬ν•  μ μμµλ‹λ‹¤. Amazon SQS [λ°λ“ λ ν„° λ€κΈ°μ—΄](https://docs.aws.amazon.com/ko_kr/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-dead-letter-queues.html) λ° [λΉ„μ© ν• λ‹Ή νƒκ·Έμ™€](https://docs.aws.amazon.com/ko_kr/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-queue-tags.html) κ°™μ€ μΌλ°μ μΈ κµ¬μ΅°λ¥Ό μ κ³µν•©λ‹λ‹¤. AWSSDKμ—μ„ μ§€μ›ν•λ” λ¨λ“  ν”„λ΅κ·Έλλ° μ–Έμ–΄λ¥Ό μ‚¬μ©ν•μ—¬ μ•΅μ„Έμ¤ν•  μ μλ” μΌλ° μ›Ή μ„λΉ„μ¤ APIλ¥Ό μ κ³µν•©λ‹λ‹¤.



- **λ³΄μ•** β€” [Amazon SQS λ€κΈ°μ—΄μ— λ©”μ‹μ§€λ¥Ό λ³΄λ‚΄κ³  λ°›μ„ μ μλ” μ‚¬μ©μλ¥Ό μ μ–΄ν• ](https://docs.aws.amazon.com/ko_kr/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-authentication-and-access-control.html) μ μμµλ‹λ‹¤. κΈ°λ³Έ Amazon SQS κ΄€λ¦¬ν• μ„λ²„ μΈ΅ μ•”νΈν™” (SSE) λ¥Ό μ‚¬μ©ν•κ±°λ‚ () μ—μ„ κ΄€λ¦¬λλ” μ‚¬μ©μ μ§€μ • [SSE](https://docs.aws.amazon.com/ko_kr/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-server-side-encryption.html) ν‚¤λ¥Ό μ‚¬μ©ν•μ—¬ λ€κΈ°μ—΄μ— μλ” λ©”μ‹μ§€ μ½ν…μΈ λ¥Ό λ³΄νΈν•μ—¬ μ¤‘μ”ν• λ°μ΄ν„°λ¥Ό μ „μ†΅ν•λ„λ΅ μ„ νƒν•  μ μμµλ‹λ‹¤.AWS Key Management ServiceAWS KMS
- **λ‚΄κµ¬μ„±** β€” λ©”μ‹μ§€λ¥Ό μ•μ „ν•κ² λ³΄κ΄€ν•κΈ° μ„ν•΄ Amazon SQS λ©”μ‹μ§€λ¥Ό μ—¬λ¬ μ„λ²„μ— μ €μ¥ν•©λ‹λ‹¤. ν‘μ¤€ λ€κΈ°μ—΄μ€ [at-least-once λ©”μ‹μ§€ μ „λ‹¬μ„](https://docs.aws.amazon.com/ko_kr/AWSSimpleQueueService/latest/SQSDeveloperGuide/standard-queues.html#standard-queues-at-least-once-delivery) μ§€μ›ν•κ³  FIFO λ€κΈ°μ—΄μ€ λ‹¨ [ν• λ²μ λ©”μ‹μ§€ μ²λ¦¬](https://docs.aws.amazon.com/ko_kr/AWSSimpleQueueService/latest/SQSDeveloperGuide/FIFO-queues-exactly-once-processing.html) λ° [κ³ μ²λ¦¬λ‰](https://docs.aws.amazon.com/ko_kr/AWSSimpleQueueService/latest/SQSDeveloperGuide/high-throughput-fifo.html) λ¨λ“λ¥Ό μ§€μ›ν•©λ‹λ‹¤.
- **κ°€μ©μ„±** β€” Amazon SQS [μ¤‘λ³µ μΈν”„λΌλ¥Ό](https://docs.aws.amazon.com/ko_kr/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-basic-architecture.html) μ‚¬μ©ν•μ—¬ λ©”μ‹μ§€μ— λ€ν• κ³ λ„μ λ™μ‹ μ•΅μ„Έμ¤μ™€ λ©”μ‹μ§€ μƒμ„± λ° μ‚¬μ©μ„ μ„ν• κ³ κ°€μ©μ„±μ„ μ κ³µν•©λ‹λ‹¤.
- **ν™•μ¥μ„±** β€” Amazon SQS κ° [λ²„νΌλ§λ μ”μ²­μ„](https://docs.aws.amazon.com/ko_kr/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-client-side-buffering-request-batching.html) λ…λ¦½μ μΌλ΅ μ²λ¦¬ν•μ—¬ ν”„λ΅λΉ„μ €λ‹ μ§€μΉ¨ μ—†μ΄ λ΅λ“ μ¦κ°€ λλ” μ¤νμ΄ν¬λ¥Ό μ²λ¦¬ν•λ„λ΅ ν¬λ…ν•κ² ν™•μ¥ν•  μ μμµλ‹λ‹¤.
- **μ•μ •μ„±** β€” Amazon SQS μ²λ¦¬ μ¤‘μ— λ©”μ‹μ§€λ¥Ό μ κ·Έλ―€λ΅ μ—¬λ¬ μƒμ‚°μκ°€ λ™μ‹μ— λ©”μ‹μ§€λ¥Ό λ³΄λ‚΄κ³  μ—¬λ¬ μ†λΉ„μκ°€ λ©”μ‹μ§€λ¥Ό λ°›μ„ μ μμµλ‹λ‹¤.
- **μ‚¬μ©μ μ§€μ •** β€” λ€κΈ°μ—΄μ΄ λ‘κ°™μ„ ν•„μ”λ” μ—†μµλ‹λ‹¤. μλ¥Ό λ“¤μ–΄ [λ€κΈ°μ—΄μ— κΈ°λ³Έ μ§€μ—° μ‹κ°„μ„ μ„¤μ •ν• ](https://docs.aws.amazon.com/ko_kr/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-delay-queues.html) μ μμµλ‹λ‹¤. 256KBλ³΄λ‹¤ ν° λ©”μ‹μ§€μ μ½ν…μΈ λ¥Ό [Amazon S3 κ°μ²΄μ— λ€ν• ν¬μΈν„°λ¥Ό ν¬ν•¨ν•λ” Amazon Simple Storage Service (Amazon S3) λλ” Amazon DynamoDBλ¥Ό μ‚¬μ©ν•μ—¬](https://docs.aws.amazon.com/ko_kr/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-s3-messages.html) μ €μ¥ν•κ±°λ‚ ν° λ©”μ‹μ§€λ¥Ό μ‘μ€ λ©”μ‹μ§€λ΅ λ¶„ν• ν•  μ μμµλ‹λ‹¤.



μ¶μ² : https://docs.aws.amazon.com/ko_kr/AWSSimpleQueueService/latest/SQSDeveloperGuide/welcome.html

(μ΄κ²ƒλ„ λ§μ°¬κ°€μ§€...π…)



## 5. μ™ SNS μ™€ SQSλ¥Ό μ΅°ν•©ν•λ”κ°€?

- SNSμ™€ μ—°κ²°λ μ—”λ“ν¬μΈνΈμ— μ¥μ•  λ°μƒμ‹ λ©”μ„Έμ§€κ°€ μ μ‹¤ λλ‹¤.
  - SNSλ” μΌμ‹μ μΌλ΅ λ©”μ‹μ§€λ¥Ό μ €μ¥ν•κ³  μ¬μ‹λ„λ¥Ό μν–‰ν•λ‹¤. κ·Έλ¬λ‚ SNSλ” λ©”μ‹μ§€λ¥Ό μ•μ •μ μΌλ΅ μ „λ‹¬ν•κΈ° μ„ν•΄ μµμ„ μ„ λ‹¤ν•μ§€λ§, μ™„λ²½ν• λ³΄μ¦μ„ μ κ³µν•μ§€λ” μ•λ”λ‹¤. λ”°λΌμ„, SNSμ™€ μ—°κ²°λ μ—”λ“ν¬μΈνΈμ— μ¥μ• κ°€ λ°μƒν•λ©΄ λ©”μ‹μ§€μ μΌλ¶€κ°€ μ μ‹¤λ  μ μλ‹¤
- λ©”μ„Έμ§€ μ „μ†΅ μ‹¤ν¨λ΅ μΈν• μ μ‹¤
  - SNSλ” λ©”μ‹μ§€λ¥Ό μ•μ •μ μΌλ΅ μ „λ‹¬ν•λ” μ—­ν• μ„ μν–‰ν•μ§€λ§, SNSμ™€ μ—°κ²°λ μ—”λ“ν¬μΈνΈμ— μ¥μ• κ°€ λ°μƒν•λ©΄ λ©”μ‹μ§€κ°€ μ μ‹¤λ  μ μλ‹¤. μ΄λ¥Ό λ°©μ§€ν•κΈ° μ„ν•΄ SNSμ™€ SQSλ¥Ό μ΅°ν•©ν•μ—¬ λ©”μ‹μ§€λ¥Ό λ¨Όμ € SQSμ— μ €μ¥ν•κ³ , SQSλ” μ•μ •μ μΌλ΅ λ©”μ‹μ§€λ¥Ό μ €μ¥ν•κ³  μ²λ¦¬ν•λ” μ—­ν• μ„ μν–‰ν•λ‹¤.
- μ†λΉ„μ μ—λ¬λ΅ μΈν• λ©”μ„Έμ§€ μ μ‹¤
  - SNSλ” λ©”μ‹μ§€λ¥Ό μ „λ‹¬ν•κ³  λ‚λ©΄ κ·Έ μ±…μ„μ„ λ‹¤ν•μ§€λ§, μ—”λ“ν¬μΈνΈμ—μ„ λ©”μ‹μ§€λ¥Ό μ²λ¦¬ν•λ” κ³Όμ •μ—μ„ μ†λΉ„μ μ—λ¬κ°€ λ°μƒν•  μ μλ‹¤. SQSλ¥Ό μ‚¬μ©ν•λ©΄ λ©”μ‹μ§€λ¥Ό μ—”λ“ν¬μΈνΈκ°€ μ•„λ‹ SQSμ—μ„ μ§μ ‘ κ°€μ Έμ™€ μ²λ¦¬ν•  μ μμΌλ―€λ΅, μ†λΉ„μ μ—λ¬λ΅ μΈν• λ©”μ‹μ§€ μ μ‹¤ κ°€λ¥μ„±μ„ μ¤„μΌ μ μλ‹¤.

- μ–΄ν”λ¦¬μΌ€μ΄μ…μ ν™•μ¥μ„±μ ν–¥μƒ.
  - SNSμ™€ SQSλ¥Ό μ΅°ν•©ν•λ©΄ μ—¬λ¬ λ„λ©”μΈ λλ” μ„λΉ„μ¤ κ°„μ μ΄λ²¤νΈ κΈ°λ° μ•„ν‚¤ν…μ²λ¥Ό μ‰½κ² κµ¬μ¶•ν•  μ μλ‹¤. μλ¥Ό λ“¤μ–΄, νμ› κ°€μ… μ΄λ²¤νΈκ°€ λ°μƒν•λ©΄ SNSλ¥Ό ν†µν•΄ ν•΄λ‹Ή μ΄λ²¤νΈλ¥Ό SQSμ— μ „λ‹¬ν•κ³ , λ‹¤λ¥Έ λ„λ©”μΈμ μ΄λ²¤νΈκ°€ ν•„μ”ν• κ²½μ° ν•΄λ‹Ή λ„λ©”μΈμ΄ λ°”λΌλ³΄λ” SQSμ—λ„ μ΄λ²¤νΈλ¥Ό μ „λ‹¬ν•  μ μλ‹¤. μ΄λ¥Ό ν†µν•΄ ν™•μ¥μ„±μ„ κ°–μ¶ μ•„ν‚¤ν…μ²λ¥Ό κµ¬μ„±ν•  μ μλ‹¤.

- AWS λ‹¤λ¥Έ μ„λΉ„μ¤λ“¤κ³Όμ ν™•μ¥μ„±μ΄ λ–¨μ–΄μ§„λ‹¤.
  - SNSμ™€ SQSλ¥Ό μ΅°ν•©ν•λ©΄ SQSμ— λ©”μ‹μ§€λ¥Ό λ³΄λ‚΄λ” κ²ƒλΏλ§ μ•„λ‹λΌ Lambda, Kinesis, Redshift, S3 λ“± λ‹¤μ–‘ν• AWS μ„λΉ„μ¤μ™€μ μ—°λ™μ„ κµ¬μ„±ν•  μ μλ‹¤. μ΄λ¥Ό ν†µν•΄ λ‹¤λ¥Έ μ„λΉ„μ¤λ“¤κ³Ό λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›κ±°λ‚ μ²λ¦¬ν•λ” μ μ—°ν• μ•„ν‚¤ν…μ²λ¥Ό κµ¬μ¶•ν•  μ μλ‹¤.

μƒκ°λμ–΄μ§€λ” μ μ„ μ •λ¦¬ν•μ€λ”λ° μ •ν™•ν•μ§€λ” μ•λ‹¤...



## 6. μ •λ¦¬

μ‚¬μ©ν•κ³  μλ” SNS μ™€ SQSμ— λ€ν•μ—¬ μ •λ¦¬λ¥Ό ν•΄λ³΄μ•λ‹¤.

μ•“λμ΄ (μ”μƒ μ§„μ§λ΅ μΉκ³Όλ¥Ό κ°€κ³  μλ‹¤.)λ¥Ό λΊ€κΈ°λ¶„μ΄ μ΄λ°κ±ΈκΉ μ§„μ‘ μ§„ν–‰ν•΄λ³Όκ±Έ ν•λ” λ§μμ΄ μ»Έλ‹¤.

μ‚¬μ‹¤ kafkaλ¥Ό κ°€μ¥ λ„μ…ν•κ³  μ‹¶μ—μ§€λ§...λΉ„μ¦λ‹μ¤λ” μ—­μ‹ λμ΄λ‹¤...

λ”°λΌμ„ λ‹¤μκΈ€μ€ λ„μ…ν•κ³  μ‹¶μ—λ kafkaμ™€ AWS SNS + SQS κ·Έλ¦¬κ³  λ§μ΄ μ‚¬μ©ν•λ‹¤λ” RabbitMQμ  μ¥λ‹¨μ κ³Ό μ°¨μ΄μ μ— λ€ν• λΉ„κµκ°€ λ  κ²ƒ κ°™λ‹¤.
